function playPong(){function m(e){this.h=100;this.w=5;this.color="#444";this.x=e==="left"?p:n-p-this.w;this.y=r/2-this.h/2}function g(){t.clearRect(0,0,n,r);t.beginPath();t.moveTo(p,0);t.strokeStyle="#9f1024";t.lineTo(p,r);t.moveTo(n-p,0);t.lineTo(n-p,r);t.stroke()}function y(){g();b();s.draw(a);a=a+.025;if(w(a)==="1.000"){v=true}L();k()}function b(){for(var e=0,n=o.length;e<n;e++){var r=o[e];t.fillStyle="rgba(0, 0, 0, "+1+")";t.fillRect(r.x,r.y,r.w,r.h)}}function w(e){return e.toFixed(3)}function E(){g();for(var e=0,n=o.length;e<n;e++){var r=o[e];t.fillStyle=r.color;t.fillRect(r.x,r.y,r.w,r.h)}s.draw(1)}function S(t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}function x(e){var t=S(e);u.x=t.x;u.y=t.y}function T(){var e=o[0];var t=o[1];var i=n-p;var u=p;if(s.x-s.r/2>i-t.w){O()}else if(s.x+s.r/2<u){O()}else if(s.y+s.r>r){s.vy=-s.vy;s.y=r-s.r}else if(s.y-s.r<0){s.vy=-s.vy;s.y=s.r}else if(s.x-e.w<e.x&&s.y<e.y+e.h&&s.y>e.y){s.vx=-s.vx;s.x=e.x+e.w;C()}else if(s.x+s.r>t.x+t.w/2&&s.y<t.y+t.h&&s.y>t.y){if(s.vx<0){s.vx-=.2}if(s.vx>0){s.vx+=.2}s.vx=-s.vx;s.x=t.x-t.w;C()}}function N(){s.x+=s.vx;s.y+=s.vy;L();T();k()}function C(){d++}function k(){t.fillStyle="rgba(150, 150, 150, "+w(a)+")";t.font="30pt Open Sans";t.fillText(d.toString(),n/2-10,r/2)}function L(){if(u.x&&u.y){for(var e=0,t=o.length;e<t;e++){var n=o[e];n.y=u.y-n.h/2}}}function A(){requestAnimFrame(A);if(v){E();N()}else{y()}}function O(){s.x=f;s.y=Math.floor(Math.random()*(r-20)+20);s.vx=c;var e=Math.round(Math.random());if(e<1){s.vy=-h}else{s.vy=h}d=0;a=0;v=false}window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}();var e=document.getElementById("pong");e.addEventListener("mousemove",x,true);if(e.getContext){var t=e.getContext("2d")}var n=e.width;var r=e.height;t.fillRect(0,0,n,r);var i=[];var s={};var o=[];var u={};var a=0;var f=70;var l=50;var c=4;var h=8;var p=40;var d=0;var v=false;s={x:f,y:l,r:6,vx:4,vy:8,draw:function(e){t.beginPath();var n="rgba(0, 0, 0, "+w(e)+")";t.fillStyle=n;t.arc(this.x,this.y,this.r,0,Math.PI*2,false);t.fill()}};o.push(new m("left"));o.push(new m("right"));A()}$(document).ready(function(){$("#play-pong").click(function(){$("#pong").animate({opacity:"1"},"slow");playPong()})})
